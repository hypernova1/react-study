{"ast":null,"code":"var _jsxFileName = \"/Users/melchor/dev/Git/react-study/movie-app-2019-2/src/App.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport Movie from './Movie';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      //state는 직접 변경하면 안 됨\n      isLoading: true,\n      movies: [],\n      count: 0\n    };\n\n    this.add = () => {\n      this.setState(current => ({\n        count: current.count + 1\n      }));\n    };\n\n    this.minus = () => {\n      this.setState(current => ({\n        count: current.count - 1\n      }));\n    };\n\n    this.getMovies = async () => {\n      const _ref = await axios.get('https://yts-proxy.now.sh/list_movies.json?sort_by=rating'),\n            movies = _ref.data.data.movies;\n\n      this.setState({\n        movies,\n        isLoading: false\n      });\n    };\n\n    console.log(\"constructor\");\n  }\n\n  componentDidMount() {\n    //렌더링이 완료되고 호출\n    console.log(\"component rendered\");\n    this.getMovies();\n  }\n\n  componentDidUpdate() {\n    console.log(\"component updated\");\n  }\n\n  componentWillUnmount() {\n    console.log(\"component will unmounted\");\n  }\n\n  render() {\n    //리액트는 자동으로 클래스 컴포넌트의 render 함수를 실행한다.\n    console.log(\"render\");\n    const _this$state = this.state,\n          isLoading = _this$state.isLoading,\n          movies = _this$state.movies;\n    return React.createElement(\"section\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, isLoading ? \"Loading...\" : movies.map(movie => {\n      return React.createElement(Movie, {\n        id: movie.id,\n        year: movie.year,\n        title: movie.title,\n        summary: movie.summary,\n        poster: movie.poster,\n        key: movie.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      });\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/melchor/dev/Git/react-study/movie-app-2019-2/src/App.js"],"names":["React","PropTypes","axios","Movie","App","Component","constructor","props","state","isLoading","movies","count","add","setState","current","minus","getMovies","get","data","console","log","componentDidMount","componentDidUpdate","componentWillUnmount","render","map","movie","id","year","title","summary","poster"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;;AAEA,MAAMC,GAAN,SAAkBJ,KAAK,CAACK,SAAxB,CAAkC;AAEhCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AADiB,SAKnBC,KALmB,GAKX;AAAE;AACRC,MAAAA,SAAS,EAAE,IADL;AAENC,MAAAA,MAAM,EAAE,EAFF;AAGNC,MAAAA,KAAK,EAAE;AAHD,KALW;;AAAA,SAWnBC,GAXmB,GAWb,MAAM;AACV,WAAKC,QAAL,CAAcC,OAAO,KAAK;AAAEH,QAAAA,KAAK,EAAEG,OAAO,CAACH,KAAR,GAAgB;AAAzB,OAAL,CAArB;AACD,KAbkB;;AAAA,SAenBI,KAfmB,GAeX,MAAM;AACZ,WAAKF,QAAL,CAAcC,OAAO,KAAK;AAAEH,QAAAA,KAAK,EAAEG,OAAO,CAACH,KAAR,GAAgB;AAAzB,OAAL,CAArB;AACD,KAjBkB;;AAAA,SAmBnBK,SAnBmB,GAmBP,YAAW;AAAA,mBAKhB,MAAMd,KAAK,CAACe,GAAN,CAAU,0DAAV,CALU;AAAA,YAGTP,MAHS,QAEnBQ,IAFmB,CAGjBA,IAHiB,CAGTR,MAHS;;AAOpB,WAAKG,QAAL,CAAc;AAAEH,QAAAA,MAAF;AAAUD,QAAAA,SAAS,EAAE;AAArB,OAAd;AACF,KA3BkB;;AAEjBU,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACD;;AA0BDC,EAAAA,iBAAiB,GAAG;AAAE;AACpBF,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACA,SAAKJ,SAAL;AAED;;AAEDM,EAAAA,kBAAkB,GAAG;AACnBH,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACD;;AAEDG,EAAAA,oBAAoB,GAAG;AACrBJ,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACD;;AAEDI,EAAAA,MAAM,GAAG;AAAE;AACTL,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AADO,wBAEuB,KAAKZ,KAF5B;AAAA,UAECC,SAFD,eAECA,SAFD;AAAA,UAEYC,MAFZ,eAEYA,MAFZ;AAGP,WACE;AAAS,MAAA,KAAK,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,SAAS,GAAG,YAAH,GAAkBC,MAAM,CAACe,GAAP,CAAWC,KAAK,IAAI;AAC9C,aAAO,oBAAC,KAAD;AACP,QAAA,EAAE,EAAEA,KAAK,CAACC,EADH;AAEP,QAAA,IAAI,EAAED,KAAK,CAACE,IAFL;AAGP,QAAA,KAAK,EAAEF,KAAK,CAACG,KAHN;AAIP,QAAA,OAAO,EAAEH,KAAK,CAACI,OAJR;AAKP,QAAA,MAAM,EAAEJ,KAAK,CAACK,MALP;AAMP,QAAA,GAAG,EAAEL,KAAK,CAACC,EANJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AAOD,KAR2B,CAD9B,CADF;AAcD;;AA9D+B;;AAiElC,eAAevB,GAAf","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport Movie from './Movie';\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props)\n    console.log(\"constructor\");\n  }\n\n  state = { //state는 직접 변경하면 안 됨\n    isLoading: true,\n    movies: [],\n    count: 0\n  };\n\n  add = () => {\n    this.setState(current => ({ count: current.count + 1 }));\n  }\n\n  minus = () => {\n    this.setState(current => ({ count: current.count - 1 }));\n  }\n\n  getMovies = async() => {\n    const {\n      data : {\n        data: { movies }\n      }\n     } = await axios.get('https://yts-proxy.now.sh/list_movies.json?sort_by=rating');\n\n     this.setState({ movies, isLoading: false });\n  }\n\n  componentDidMount() { //렌더링이 완료되고 호출\n    console.log(\"component rendered\");\n    this.getMovies();\n\n  }\n\n  componentDidUpdate() {\n    console.log(\"component updated\");\n  }\n\n  componentWillUnmount() {\n    console.log(\"component will unmounted\");\n  }\n\n  render() { //리액트는 자동으로 클래스 컴포넌트의 render 함수를 실행한다.\n    console.log(\"render\");\n    const { isLoading, movies } = this.state;\n    return (\n      <section class=\"container\">\n        {isLoading ? \"Loading...\" : movies.map(movie => {\n          return <Movie \n          id={movie.id}\n          year={movie.year}\n          title={movie.title}\n          summary={movie.summary}\n          poster={movie.poster}\n          key={movie.id} />\n        })}\n      </section>\n    \n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}